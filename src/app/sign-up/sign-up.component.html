<app-header [username]="user ? user.firstName : undefined"></app-header>
<div class="container-fluid wh-register">
  <h1>Sign Up</h1>
      <div *ngIf="showError" class="wh-msg-error col-sm-12">
        <i class="fa fa-times-circle"></i>
        {{errorText}}
      </div>
  <div class="form-group row">
    <label for="firstname"
           class="col-sm-2 col-form-label">
      First Name
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="firstname"
             placeholder="Alice"
             [(ngModel)] ="user.firstName">
    </div>
  </div>
  <div class="form-group row">
    <label for="lastname"
           class="col-sm-2 col-form-label">
      Last Name
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="lastname"
             placeholder="Woderland"
             [(ngModel)] = "user.lastName">
    </div>
  </div>
  <div class="form-group row">
    <label for="phone"
           class="col-sm-2 col-form-label">
      Phone Number
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="phone"
             placeholder="(345) 352 4556"
             [(ngModel)] = "user.phone">
    </div>
  </div>
  <div class="form-group row">
    <label for="street"
           class="col-sm-2 col-form-label">
      Street, Apartment #
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="street"
             placeholder="Some street, #2"
             [(ngModel)] = "user.street">
    </div>
  </div>
  <div class="form-group row">
    <label for="city"
           class="col-sm-2 col-form-label">
      City
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="city"
             placeholder="Boston"
             [(ngModel)] = "user.city">
    </div>
  </div>
  <div class="form-group row">
    <label for="zip"
           class="col-sm-2 col-form-label">
      Zip Code
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="zip"
             placeholder="02115"
             [(ngModel)] = "user.zip">
    </div>
  </div>
  <div class="form-group row">
    <label for="state"
           class="col-sm-2 col-form-label">
      State
    </label>
    <div class="col-sm-10">
      <input class="form-control"
             id="state"
             placeholder="MA"
             [(ngModel)] = "user.state">
    </div>
  </div>
    <div class="form-group row">
      <label for="email"
             class="col-sm-2 col-form-label">
        Email </label>
      <div class="col-sm-10">
        <input class="form-control"
               id="email"
               placeholder="Alice@domain.com"
               [(ngModel)] = "user.email">
      </div>
    </div>
    <div class="form-group row">
      <label for="password"
             class="col-sm-2 col-form-label">
        Password
      </label>
      <div class="col-sm-10">
        <input type="password"
               class="form-control"
               id="password"
               placeholder="123qwe#$%"
               [(ngModel)] = "user.password">
      </div>
    </div>
    <div class="form-group row">
      <label for="verifyPassword"
             class="col-sm-2 col-form-label">
        Verify Password
      </label>
      <div class="col-sm-10">
        <input type="password"
               class="form-control"
               id="verifyPassword"
               placeholder="123qwe#$%"
               [(ngModel)] = "verifyPassword">
      </div>
    </div>
  <div *ngIf="verifyPassword !=='' && verifyPassword !== user.password"
       class="form-group row">
    <label class="col-sm-2 col-form-label">
    </label>
    <div class="col-sm-10 wh-msg-error">
      <i class="fa fa-times-circle"></i>
      Passwords do not match!
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">
      Role </label>
    <div class="col-sm-10">
      <label>
        <input type="radio"
               value="BUYER"
               [(ngModel)] = "user.userType">
        Buyer
      </label>
      &nbsp;
      <label>
        <input type="radio"
               value="PRODUCER"
               [(ngModel)] = "user.userType">
        Producer
      </label>
      &nbsp;
      <label>
        <input type="radio"
               value="RETAILER"
               [(ngModel)] = "user.userType">
        Retailer
      </label>
    </div>
  </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label"></label>
      <div class="col-sm-10">
        <button (click)="register()"
                *ngIf="user.password === verifyPassword"
                class="btn btn-primary btn-block">
          Sign up
        </button>
        <button (click)="register()"
                disabled
                *ngIf="user.password !== verifyPassword"
                class="btn btn-primary btn-block">
          Sign up
        </button>
        <div class="row">
          <div class="col-6">
            <a routerLink="/login">Login</a>
          </div>
        </div>
      </div>
    </div>
</div>
